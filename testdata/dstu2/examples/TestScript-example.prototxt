id {
  value: "example"
}
text {
  status {
    value: GENERATED
  }
  div {
    value: "<div><p><b>Generated Narrative with Details</b></p><p><b>id</b>: example</p><p><b>name</b>: Test Script 1</p><p><b>description</b>: Example Test Script</p><h3>Fixtures</h3><table><tr><td>-</td><td><b>Resource</b></td></tr><tr><td>*</td><td><a>Patient resource</a></td></tr></table><blockquote><p><b>test</b></p><p><b>name</b>: Read Patient</p><p><b>description</b>: Read a patient and validate response.</p><blockquote><p><b>metadata</b></p><h3>Links</h3><table><tr><td>-</td><td><b>Url</b></td><td><b>Description</b></td></tr><tr><td>*</td><td><a>http://hl7.org/implement/standards/FHIR-Develop/patient.html</a></td><td>FHIR Patient</td></tr></table><h3>Operations</h3><table><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Description</b></td><td><b>Link</b></td><td><b>Required</b></td></tr><tr><td>*</td><td>create</td><td>Patient</td><td>Patient Create Operation</td><td><a>http://hl7.org/implement/standards/FHIR-Develop/http.html#create</a></td><td>true</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Operations</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote></blockquote></div>"
  }
}
url {
  value: "http://hl7.org/fhir/TestScript/example"
}
version {
  value: "1.0"
}
name {
  value: "Test Script 1"
}
status {
  value: DRAFT
}
identifier {
  system {
    value: "urn:ietf:rfc:3986"
  }
  value {
    value: "urn:oid:1.3.6.1.4.1.21367.2005.3.7.9876"
  }
}
experimental {
  value: true
}
publisher {
  value: "HL7"
}
contact {
  name {
    value: "Support"
  }
  telecom {
    system {
      value: EMAIL
    }
    value {
      value: "support@gmail.com"
    }
    use {
      value: TEMP
    }
  }
}
date {
  value_us: 1440943200000000
  timezone: "Australia/Sydney"
  precision: DAY
}
description {
  value: "Example Test Script"
}
use_context {
  coding {
    system {
      value: "urn:iso:std:iso:3166"
    }
    code {
      value: "US"
    }
    display {
      value: "United States of America (the)"
    }
  }
}
requirements {
  value: "Patient Create, Read, and Update Operations"
}
copyright {
  value: "\302\251 HL7.org 2011+"
}
metadata {
  capability {
    required {
      value: true
    }
    description {
      value: "Patient Create, Read, and Update Operations"
    }
    destination {
      value: 1
    }
    link {
      value: "http://hl7.org/implement/standards/FHIR-Develop/http.html#create"
    }
    link {
      value: "http://hl7.org/implement/standards/FHIR-Develop/http.html#read"
    }
    link {
      value: "http://hl7.org/implement/standards/FHIR-Develop/http.html#update"
    }
    conformance {
      conformance_id {
        value: "example"
      }
    }
  }
}
fixture {
  id {
    value: "F1"
  }
  autocreate {
  }
  autodelete {
  }
  resource {
    patient_id {
      value: "example"
    }
    display {
      value: "Patient resource"
    }
  }
}
profile {
  id {
    value: "patient-profile"
  }
  uri {
    value: "http://hl7.org/fhir/StructureDefinition/Patient"
  }
}
setup {
  action {
    operation {
      type {
        code {
          value: "create"
        }
      }
      label {
        value: "SetupPatient"
      }
      description {
        value: "Create patient resource on test server"
      }
      accept {
        value: JSON
      }
      response_id {
        value: "create-response"
      }
      source_id {
        value: "F1"
      }
    }
  }
  action {
    assert_value {
      direction {
        value: REQUEST
      }
      response_code {
        value: "201"
      }
    }
  }
}
test {
  id {
    value: "READ01"
  }
  name {
    value: "Read Patient"
  }
  description {
    value: "Read a patient and validate response."
  }
  action {
    operation {
      type {
        code {
          value: "read"
        }
      }
      encode_request_url {
      }
      response_id {
        value: "F1-read"
      }
      target_id {
        value: "F1"
      }
    }
  }
  action {
    assert_value {
      label {
        value: "ReadOK"
      }
      description {
        value: "Test for OK response"
      }
      direction {
        value: REQUEST
      }
      response {
        value: OKAY
      }
    }
  }
  action {
    assert_value {
      header_field {
        value: "Last-Modified"
      }
      operator {
        value: NOTEMPTY
      }
      warning_only {
        value: true
      }
    }
  }
  action {
    assert_value {
      resource {
        value: "Patient"
      }
    }
  }
  action {
    assert_value {
      validate_profile_id {
        value: "patient-profile"
      }
    }
  }
  action {
    assert_value {
      operator {
        value: EQUALS
      }
      path {
        value: "fhir:Patient/fhir:name/fhir:family/@value"
      }
      value {
        value: "Chalmers"
      }
    }
  }
  action {
    assert_value {
      operator {
        value: EQUALS
      }
      path {
        value: "fhir:Patient/fhir:name/fhir:family/@value"
      }
      source_id {
        value: "F1"
      }
      value {
        value: "Chalmers"
      }
    }
  }
  action {
    assert_value {
      compare_to_source_id {
        value: "F1-read"
      }
      compare_to_source_path {
        value: "fhir:Patient/fhir:name/fhir:family/@value"
      }
      operator {
        value: EQUALS
      }
      path {
        value: "fhir:Patient/fhir:name/fhir:family/@value"
      }
    }
  }
  action {
    assert_value {
      compare_to_source_id {
        value: "F1-read"
      }
      compare_to_source_path {
        value: "fhir:Patient/fhir:name/fhir:family/@value"
      }
      path {
        value: "fhir:Patient/fhir:name/fhir:family/@value"
      }
      source_id {
        value: "F1"
      }
    }
  }
  action {
    assert_value {
      minimum_id {
        value: "F1-min"
      }
    }
  }
}

